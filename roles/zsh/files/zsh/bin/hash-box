#!/usr/bin/perl
# This takes in a block of text and turns it into a hash box comment
#
# For example:
#
# THIS
#
# would become
#
# ########
# # THIS #
# ########
#
# This must be able to handle leading or trailing hashes and whitespace

my @content = <>;
my ($current_line_length, $longest_line_length, $top_bottom_line) = (0,0);

foreach my $line ( @content ) {
	chomp $line;
	$line =~ s/^[\s#]*//;
	$line =~ s/[\s#]*$//;
	
	$current_line_length = length ( $line );
	if ( $current_line_length > $longest_line_length ) {
		$longest_line_length = $current_line_length;
	}
}

foreach my $line ( @content ) {
	$current_line_length = length ( $line );
	$line = '# ' . $line . (' ' x ($longest_line_length - $current_line_length)) . " #\n";
}

$top_bottom_line = ('#' x ($longest_line_length + 4)) . "\n";

print $top_bottom_line;
print @content;
print $top_bottom_line;

# vim: set ai et sw=4 syntax=perl :
